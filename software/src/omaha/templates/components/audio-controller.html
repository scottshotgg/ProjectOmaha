<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="/bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="/bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="/bower_components/neon-animation/neon-animation.html">

<link rel="import" href="/components/test-controller.html">
<link rel="import" href="/components/volume-selector.html">
<link rel="import" href="/components/light-controller.html">
<link rel="import" href="/components/averaging-controller.html">
<!--<link rel="import" href="/components/map-controller.html">-->
<dom-module id="audio-controller">
  <template>
    <style>
     :host {
        display: block;
      }
     
      .container {
        width: 100%;
      }
      
      .container-height {
        height: 100%;
      }
      
      volume-selector {
        width: 30%;
        min-width: 300px;
      }

      @media (min-width: 500px) {
        paper-radio-group {
          @apply(--layout-vertical);
        }

        paper-radio-button {
          @apply(--layout-horizontal);
          @apply(--layout-center);
        }

        #radio-container {
          @apply(--layout-horizontal)
        }
      }

      @media (max-width: 499px) {
        paper-radio-group {
          @apply(--layout-horizontal)
        }
        paper-radio-button {
          @apply(--layout-vertical);
          @apply(--layout-center);
        }

        #radio-container {
          @apply(--layout-vertical)
        }

        volume-selector, light-controller {
          margin-top: 20px;
        }

      }

    </style>
    <div id="radio-container" class="layout horizontal">
      <paper-radio-group selected="{{mode}}" id="mode">
        <paper-radio-button name="volume" class="flex">Volume</paper-radio-button>
        <paper-radio-button name="averaging" class="flex">Averaging</paper-radio-button>
        <paper-radio-button name="light" class="flex">LED</paper-radio-button>
      </paper-radio-group>
    </div>
    <neon-animated-pages selected="[[page]]" id="pages" class="flex">
      <neon-animatable class="horizontal layout" entry-animation="slide-from-right-animation" exit-animation="slide-right-animation">
      <div class="container layout horizontal center">
        <div class="container layout vertical center">
          <!-- <neon-animated-pages id="pages" selected="0" entry-animation="slide-from-right-animation" exit-animation="slide-left-animation">
            <neon-animatable><div style="height: 100px;"></div></neon-animatable>
            <neon-animatable>2</neon-animatable>
          </neon-animated-pages>-->
          <!-- <volume-selector volume="21"></volume-selector>-->
          <!--<iron-pages id="pages">-->
          <light-controller id="light"></light-controller>
          <!-- <map-controller></map-controller>-->
        </div>
      </div>
      </neon-animatable>


      <neon-animatable class="horizontal layout" entry-animation="slide-from-right-animation" exit-animation="slide-right-animation">
      <div class="container layout horizontal center">
        <div class="container layout vertical center">
          <!-- <neon-animated-pages id="pages" selected="0" entry-animation="slide-from-right-animation" exit-animation="slide-left-animation">
            <neon-animatable><div style="height: 100px;"></div></neon-animatable>
            <neon-animatable>2</neon-animatable>
          </neon-animated-pages>-->
          <!-- <volume-selector volume="21"></volume-selector>-->
          <!--<iron-pages id="pages">-->
          <averaging-controller id="averaging"></averaging-controller>
          <!-- <map-controller></map-controller>-->
        </div>
      </div>
      </neon-animatable>


      <neon-animatable class="horizontal layout" entry-animation="slide-from-left-animation" exit-animation="slide-left-animation">
      <div class="container layout horizontal center">
        <div class="container layout vertical center">
          <!-- <neon-animated-pages id="pages" selected="0" entry-animation="slide-from-right-animation" exit-animation="slide-left-animation">
            <neon-animatable><div style="height: 100px;"></div></neon-animatable>
            <neon-animatable>2</neon-animatable>
          </neon-animated-pages>-->
          <!-- <volume-selector volume="21"></volume-selector>-->
          <!--<iron-pages id="pages">-->
          <volume-selector id="volume" volume="21"></volume-selector>


          <!-- <map-controller></map-controller>-->
        </div>
      </div>
      </neon-animatable>
    </neon-animated-pages>
  </template>
  <script>
    Polymer({
      is: 'audio-controller',

      properties: {
        mode: {
          type: String,
          value: "light",
          observer: "_selectionChanged"
        },
        page: {
          type: String,
          value: 0
        }
      },

      _selectionChanged: function(event) {
        
        var selected = this.mode;

        switch(selected) {

          case "light":
            this.page = 0;
            break;

          case "averaging":
            this.page = 1;
            break;

          case "volume":
            this.page = 2;
            break;

          default:
            break;
        }
      }
    });
  </script>
</dom-module>