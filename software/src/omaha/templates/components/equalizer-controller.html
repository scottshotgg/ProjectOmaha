<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="/bower_components/iron-icons/iron-icons.html">
<link rel="import" href="/bower_components/paper-card/paper-card.html">
<link rel="import" href="/bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/bower_components/paper-slider/paper-slider.html">
<link rel="import" href="/bower_components/paper-toast/paper-toast.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">
<link rel="import" href="/bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="/bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="/bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="/bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="/bower_components/paper-menu/paper-menu.html">
<link rel="import" href="/bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="/bower_components/paper-item/paper-item.html">
<link rel="import" href="/bower_components/iron-ajax/iron-ajax.html">
<link rel="stylesheet" href="jquery-ui-1.11.4.css">
<script src="jquery-1.10.2.js" type="text/jscript"></script>
<!--<script src="jquery-2.2.0.js"></script>-->
<script src="jquery-ui-1.11.4.js" type="text/jscript"></script>
<script src="jquery.ui.touch-punch.js" type="text/jscript"></script>

<dom-module id="equalizer-controller">
  <template>

    <style>
      :host {
        display: block;
      }

      #slider {
        width: 100%;
        height: calc(85% - .3 * 100vw);
        margin-bottom: calc(.03 * 100vh);
      }

      paper-card {
        width: 100%;
        height: 100%;   /* This was 100%, cahnge back if needed */
        text-align: center;   /* center was not here and then i put it here, take out if it fucks up */
      }

      .papercardleft {
        text-align: left;
      }

      .papercardcenter {
        text-align: center;
      }

      .paper-card .card-content {
        padding: 0px;
        height: 200%;
      }
      
      paper-button {
        background-color: #3f51b5;
        color: #fff;
        margin-top: 1px;
      }

      paper-input /deep/ #input {
        margin-top: 0px;
        text-align: center;
      }

      .message {
        color: var(--paper-red-500);
        size: 5px;
      }

      paper-dropdown-menu {
        text-align: center;
      }

      #equalizerSelector {
        margin-bottom: 2%;      /* this might need to change to something that is calculated */
      }

    </style>

   <paper-card heading="Equalizer" elevation="4">
      <div id="card-content" style="height: calc(.68 * 100vh);" class="card-content">         <!-- something might need to be done about the growing to adjust for .6 -> .68 -->

        <paper-radio-group id="equalizerSelector" selected="{{mode}}">
          <!-- <paper-radio-button id="informationButton" name="information" class="flex">Information</paper-radio-button> -->
          <paper-radio-button id="maskingButton" name="masking"  onclick="equalizerChanged()" class="flex">Masking</paper-radio-button>
          <paper-radio-button id="musicButton"   name="music"    onclick="musicChanged()"     class="flex">Music</paper-radio-button>
          <paper-radio-button id="pagingButton"  name="paging"                                class="flex">Paging</paper-radio-button>
        </paper-radio-group>

        <neon-animated-pages attr-for-selected="page" selected="[[mode]]" class="flex">

          <neon-animatable page="masking" style="height: calc(.6 * 100vh);" class="horizontal layout" entry-animation="slide-from-right-animation" exit-animation="slide-right-animation">
            <simple-fit class="container">

              <div id="sliderequalizer_masking" class="layout horizontal">
                <div id="custom_container_masking">     <!-- change the custom class names back is shit hits the fan -->
                  <div class="custom" style="margin-left: 4%;"> <input id="text1" name="80" class="level" tabindex=1 oninput="inputChanged()"/> <div class="custom_slider" value="{{internalEqualizer}}"></div><input class="bands" id="eighty" value="80" readonly/></div>
                  <div class="custom"> <input id="text2" name="100" class="level" tabindex=2 oninput="inputChanged()"/> <div class="custom_slider" class="masking" value={{"equalizer2"}}></div><input class="bands" value="100" readonly/></div>
                  <div class="custom"> <input id="text3" name="125" class="level" tabindex=3 oninput="inputChanged()"/> <div class="custom_slider" class="masking" value={{"equalizer3"}}></div><input class="bands" value="125" readonly/></div>
                  <div class="custom"> <input id="text4" name="160" class="level" tabindex=4 oninput="inputChanged()"/><div class="custom_slider" value={{"equalizer4"}}></div><input class="bands" value="160" readonly/></div>
                  <div class="custom"> <input id="text5" name="200" class="level" tabindex=5 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer5"}}></div><input class="bands" value="200" readonly/></div>
                  <div class="custom"> <input id="text6" name="250" class="level" tabindex=6 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer6"}}></div><input class="bands" value="250" readonly/></div>
                  <div class="custom"> <input id="text7" name="315" class="level" tabindex=7 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer7"}}></div><input class="bands" value="315" readonly/></div>
                  <div class="custom"> <input id="text8" name="400" class="level" tabindex=8 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer8"}}></div><input class="bands" value="400" readonly/></div>
                  <div class="custom"> <input id="text9" name="500" class="level" tabindex=9 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer9"}}></div><input class="bands" value="500" readonly/></div>
                  <div class="custom"> <input id="text10" name="630" class="level" tabindex=10 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer10"}}></div><input class="bands" value="630" readonly/></div>
                  <div class="custom"> <input id="text11" name="800" class="level" tabindex=11 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer11"}}></div><input class="bands" value="800" readonly/></div>
                  <div class="custom"> <input id="text12" name="1k" class="level" tabindex=12 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer12"}}></div><input class="bands" value="1k" readonly/></div>
                  <div class="custom"> <input id="text13" name="1.25k" class="level" tabindex=13 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer13"}}></div><input class="bands" value="1.25k" readonly/></div>
                  <div class="custom"> <input id="text14" name="1.6k" class="level" tabindex=14 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer14"}}></div><input class="bands" value="1.6k" readonly/></div>
                  <div class="custom"> <input id="text15" name="2k" class="level" tabindex=15 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer15"}}></div><input class="bands" value="2k" readonly/></div>
                  <div class="custom"> <input id="text16" name="2.5k" class="level" tabindex=16 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer16"}}></div><input class="bands" value="2.5k" readonly/></div>
                  <div class="custom"> <input id="text17" name="3.15k" class="level" tabindex=17 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer17"}}></div><input class="bands" value="3.15k" readonly/></div>
                  <div class="custom"> <input id="text18" name="4k" class="level" tabindex=18 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer18"}}></div><input class="bands" value="4k" readonly/></div>
                  <div class="custom"> <input id="text19" name="5k" class="level" tabindex=19 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer19"}}></div><input class="bands" value="5k" readonly/></div>
                  <div class="custom"> <input id="text20" name="6.3k" class="level" tabindex=20 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer20"}}></div><input class="bands" value="6.3k" readonly/></div>
                  <div class="custom"> <input id="text21" name="8k" class="level" tabindex=21 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer21"}></div><input class="bands" value="8k" readonly/></div>
                </div>
              </div>
              
            </simple-fit>
          </neon-animatable>

          <neon-animatable page="music" style="height: calc(.6 * 100vh);" class="horizontal layout" entry-animation="slide-from-right-animation" exit-animation="slide-right-animation">
            <simple-fit class="container">
              
            <div id="sliderequalizer_music" class="layout horizontal">
                <div id="custom_container_music">     <!-- change the custom class names back is shit hits the fan -->
                  <div class="custom" style="margin-left: 4%;"> <input id="text22" name="80" class="level" tabindex=1 oninput="inputChanged()"/> <div class="custom_slider" value="{{internalEqualizer}}"></div><input class="bands" id="eighty" value="80" readonly/></div>
                  <div class="custom music"> <input id="text23" name="100" class="level" tabindex=2 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer2"}}></div><input class="bands" value="100" readonly/></div>
                  <div class="custom"> <input id="text24" name="125" class="level" tabindex=3 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer3"}}></div><input class="bands" value="125" readonly/></div>
                  <div class="custom"> <input id="text25" name="160" class="level" tabindex=4 oninput="inputChanged()"/><div class="custom_slider" value={{"equalizer4"}}></div><input class="bands" value="160" readonly/></div>
                  <div class="custom"> <input id="text26" name="200" class="level" tabindex=5 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer5"}}></div><input class="bands" value="200" readonly/></div>
                  <div class="custom"> <input id="text27" name="250" class="level" tabindex=6 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer6"}}></div><input class="bands" value="250" readonly/></div>
                  <div class="custom"> <input id="text28" name="315" class="level" tabindex=7 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer7"}}></div><input class="bands" value="315" readonly/></div>
                  <div class="custom"> <input id="text29" name="400" class="level" tabindex=8 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer8"}}></div><input class="bands" value="400" readonly/></div>
                  <div class="custom"> <input id="text30" name="500" class="level" tabindex=9 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer9"}}></div><input class="bands" value="500" readonly/></div>
                  <div class="custom"> <input id="text31" name="630" class="level" tabindex=10 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer10"}}></div><input class="bands" value="630" readonly/></div>
                  <div class="custom"> <input id="text32" name="800" class="level" tabindex=11 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer11"}}></div><input class="bands" value="800" readonly/></div>
                  <div class="custom"> <input id="text33" name="1k" class="level" tabindex=12 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer12"}}></div><input class="bands" value="1k" readonly/></div>
                  <div class="custom"> <input id="text34" name="1.25k" class="level" tabindex=13 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer13"}}></div><input class="bands" value="1.25k" readonly/></div>
                  <div class="custom"> <input id="text35" name="1.6k" class="level" tabindex=14 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer14"}}></div><input class="bands" value="1.6k" readonly/></div>
                  <div class="custom"> <input id="text36" name="2k" class="level" tabindex=15 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer15"}}></div><input class="bands" value="2k" readonly/></div>
                  <div class="custom"> <input id="text37" name="2.5k" class="level" tabindex=16 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer16"}}></div><input class="bands" value="2.5k" readonly/></div>
                  <div class="custom"> <input id="text38" name="3.15k" class="level" tabindex=17 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer17"}}></div><input class="bands" value="3.15k" readonly/></div>
                  <div class="custom"> <input id="text39" name="4k" class="level" tabindex=18 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer18"}}></div><input class="bands" value="4k" readonly/></div>
                  <div class="custom"> <input id="text40" name="5k" class="level" tabindex=19 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer19"}}></div><input class="bands" value="5k" readonly/></div>
                  <div class="custom"> <input id="text41" name="6.3k" class="level" tabindex=20 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer20"}}></div><input class="bands" value="6.3k" readonly/></div>
                  <div class="custom"> <input id="text42" name="8k" class="level" tabindex=21 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer21"}></div><input class="bands" value="8k" readonly/></div>
                </div>
              </div>

            </simple-fit>
          </neon-animatable>

          <neon-animatable page="paging" style="height: calc(.6 * 100vh);" class="horizontal layout" entry-animation="slide-from-right-animation" exit-animation="slide-right-animation">
            <simple-fit class="container">
              
            <div id="sliderequalizer_paging" class="layout horizontal">
                <div id="custom_container_paging">     <!-- change the custom class names back is shit hits the fan -->
                  <div class="custom" style="margin-left: 4%;"> <input id="text43" name="80" class="level" tabindex=1 oninput="inputChanged()"/> <div class="custom_slider" value="{{internalEqualizer}}"></div><input class="bands" id="eighty" value="80" readonly/></div>
                  <div class="custom"> <input id="text44" name="100" class="level" tabindex=2 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer2"}}></div><input class="bands" value="100" readonly/></div>
                  <div class="custom"> <input id="text45" name="125" class="level" tabindex=3 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer3"}}></div><input class="bands" value="125" readonly/></div>
                  <div class="custom"> <input id="text46" name="160" class="level" tabindex=4 oninput="inputChanged()"/><div class="custom_slider" value={{"equalizer4"}}></div><input class="bands" value="160" readonly/></div>
                  <div class="custom"> <input id="text47" name="200" class="level" tabindex=5 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer5"}}></div><input class="bands" value="200" readonly/></div>
                  <div class="custom"> <input id="text48" name="250" class="level" tabindex=6 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer6"}}></div><input class="bands" value="250" readonly/></div>
                  <div class="custom"> <input id="text49" name="315" class="level" tabindex=7 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer7"}}></div><input class="bands" value="315" readonly/></div>
                  <div class="custom"> <input id="text50" name="400" class="level" tabindex=8 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer8"}}></div><input class="bands" value="400" readonly/></div>
                  <div class="custom"> <input id="text51" name="500" class="level" tabindex=9 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer9"}}></div><input class="bands" value="500" readonly/></div>
                  <div class="custom"> <input id="text52" name="630" class="level" tabindex=10 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer10"}}></div><input class="bands" value="630" readonly/></div>
                  <div class="custom"> <input id="text53" name="800" class="level" tabindex=11 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer11"}}></div><input class="bands" value="800" readonly/></div>
                  <div class="custom"> <input id="text54" name="1k" class="level" tabindex=12 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer12"}}></div><input class="bands" value="1k" readonly/></div>
                  <div class="custom"> <input id="text55" name="1.25k" class="level" tabindex=13 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer13"}}></div><input class="bands" value="1.25k" readonly/></div>
                  <div class="custom"> <input id="text56" name="1.6k" class="level" tabindex=14 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer14"}}></div><input class="bands" value="1.6k" readonly/></div>
                  <div class="custom"> <input id="text57" name="2k" class="level" tabindex=15 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer15"}}></div><input class="bands" value="2k" readonly/></div>
                  <div class="custom"> <input id="text58" name="2.5k" class="level" tabindex=16 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer16"}}></div><input class="bands" value="2.5k" readonly/></div>
                  <div class="custom"> <input id="text59" name="3.15k" class="level" tabindex=17 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer17"}}></div><input class="bands" value="3.15k" readonly/></div>
                  <div class="custom"> <input id="text60" name="4k" class="level" tabindex=18 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer18"}}></div><input class="bands" value="4k" readonly/></div>
                  <div class="custom"> <input id="text61" name="5k" class="level" tabindex=19 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer19"}}></div><input class="bands" value="5k" readonly/></div>
                  <div class="custom"> <input id="text62" name="6.3k" class="level" tabindex=20 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer20"}}></div><input class="bands" value="6.3k" readonly/></div>
                  <div class="custom"> <input id="text63" name="8k" class="level" tabindex=21 oninput="inputChanged()"/> <div class="custom_slider" value={{"equalizer21"}></div><input class="bands" value="8k" readonly/></div>
                </div>
              </div>
              
            </simple-fit>
          </neon-animatable>
        </neon-animated-pages>
      </div>

      <!-- entry-animation="scale-up-animation" exit-animation="fade-out-animation" -->
    <paper-dialog id="dialog" heading="this is a title" entry-animation="scale-up-animation" exit-animation="fade-out-animation" modal="true">
      <h1 style="text-align: center;">Add Preset</h1>
      <div style="text-align: center;">Enter the name for the new preset below</div>
      <div class="message">{{err}}</div>
      <paper-input id="popupInput" label="" placeholder="Enter new preset name" text-align="center"></paper-input>
      <div class="buttons">
        <paper-button ondialog-confirm on-click="_acceptPressed">Add</paper-button>
        <paper-button dialog-dismiss on-click="_cancelPressed">Cancel</paper-button>
    </div>
    </paper-dialog>

    <paper-dialog id="switchingEQModeDialog" heading="this is a title" entry-animation="scale-up-animation" exit-animation="fade-out-animation" modal="true">
      <h2 style="text-align: center; padding-top: 24px; padding-bottom: 5px; margin: 0px;">Warning</h2>
      <div id="eqmode" style="text-align: center; margin-top: 0px; padding: 5% 5% 5% 5%;">
      </div>
      <div class="butons" style="margin: 0; border-top: 1px rgba(201, 201, 201, .6) solid; padding: 5%;">
      <paper-button ondialog-confirm style="margin: 0.5em 1em 0.5em 1em;" on-click="_switchPressed">Switch</paper-button>
      <paper-button dialog-dismiss on-click="_cancelSwitchPressed">Cancel</paper-button></div>
    </paper-dialog>

      <div class="card-actions">
        <!-- <paper-checkbox class="papercardcenter" style="text-align: center;" checked>Apply Adjustment Based Presets</paper-checkbox> -->
        <!--
        <paper-checkbox checked>Checkbox</paper-checkbox>
        <paper-checkbox disabled>Disabled</paper-checkbox>
        -->
        <paper-button class="papercardcenter" on-click="_setEqualizerClicked">set equalizer</paper-button>
        <paper-dropdown-menu class="papercardcenter" id="equalizerMenu" no-label-float label="Equalizer Preset:">
          <paper-listbox id="equalizerListbox" attr-for-selected="value" selected="{{selection}}" class="dropdown-content" value="0">
            <!--<template if="{{this.speaker.Response}}">
              <paper-dropdown-menu selected="{{selected}}">
                <template repeat="{{label in this.speaker.PresetNames}}">
                  <paper-item value="{{i}}" label="{{label}}"></paper-item>
                </template>
              </paper-dropdown-menu>  
            </template>-->
              <paper-item id="Currently Applied" value="Currently Applied">Currently Applied</paper-item>
              <paper-item id="Add New Preset" value="Add New Preset">Add New Preset</paper-item>   
          </paper-listbox>
        </paper-dropdown-menu>
        <paper-dropdown-menu class="papercardcenter" id="musicMenu" style="position: absolute; left: 48.5%; visibility: hidden;" no-label-float label="Music Preset:">
          <paper-listbox id="musicListbox" attr-for-selected="value" selected="{{selection}}" class="dropdown-content" value="0">
            <!--<template if="{{this.speaker.Response}}">
              <paper-dropdown-menu selected="{{selected}}">
                <template repeat="{{label in this.speaker.PresetNames}}">
                  <paper-item value="{{i}}" label="{{label}}"></paper-item>
                </template>
              </paper-dropdown-menu>  
            </template>-->
              <paper-item id="Currently Applied" value="Currently Applied">Currently Applied</paper-item>
              <paper-item id="Add New Preset" value="Add New Preset">Add New Preset</paper-item>  
          </paper-listbox>
        </paper-dropdown-menu>
        <span>{{value}}</span>
      </div>
    </paper-card>
    <paper-toast id="equalizerToast"></paper-toast>
    <paper-toast id="toasty" z-index: "60"></paper-toast>

    <iron-ajax
      id="addPresetAjax"
      url="/system/addPreset/"
      method="PUT"
      content-type="application/json"
      handle-as="json"
      on-response="_logResponse"
      debounce-duration="300">
    </iron-ajax>

    <iron-ajax
      id="changeEQModeAjax"
      url="/system/changeEQMode/"
      method="PUT"
      content-type="application/json"
      handle-as="json"
      on-response="_logResponse"
      debounce-duration="300">
    </iron-ajax>

  </template>
  <script>

  var sliders;
  var handles;
  var background;

  //var fragment = create("<paper-item id=" + "name" + " value=" + "custom" + ">" + "custom" + "</paper-item>"); 
  var equalizerToast = 0;
  var equalizerMode;
  var typeFound = 0;


  function getValues() {
    switch (equalizerMode.selected) {
      case "masking": 
        typeFound = 0;
        console.log(equalizerMode.selected);
        break;
      case "music":
        typeFound = 1;
        console.log(equalizerMode.selected);
        break;
      case "paging":
        typeFound = 2;
        console.log(equalizerMode.selected);
        break;

      default:
        console.log("something is messed up with the equalizerMode = this.$.equalizerSelector.selected;");
      }

      return typeFound;
  }


  $(document).ready(function() {
    /*sliders_masking = document.getElementById("sliderequalizer_masking").getElementsByClassName("ui-slider-range ui-widget-header ui-corner-all ui-slider-range-min");
    handles_masking = document.getElementById("sliderequalizer_masking").getElementsByClassName("ui-slider-handle ui-state-default ui-corner-all");
    background_masking = document.getElementById("sliderequalizer_masking").getElementsByClassName("custom_slider style-scope equalizer-controller ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all");

    sliders_music = document.getElementById("sliderequalizer_music").getElementsByClassName("ui-slider-range ui-widget-header ui-corner-all ui-slider-range-min");
    handles_music = document.getElementById("sliderequalizer_music").getElementsByClassName("ui-slider-handle ui-state-default ui-corner-all");
    background_music = document.getElementById("sliderequalizer_music").getElementsByClassName("custom_slider style-scope equalizer-controller ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all");

    sliders_paging = document.getElementById("sliderequalizer_paging").getElementsByClassName("ui-slider-range ui-widget-header ui-corner-all ui-slider-range-min");
    handles_paging = document.getElementById("sliderequalizer_paging").getElementsByClassName("ui-slider-handle ui-state-default ui-corner-all");
    background_paging = document.getElementById("sliderequalizer_paging").getElementsByClassName("custom_slider style-scope equalizer-controller ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all");*/

    sliders = document.getElementsByClassName("ui-slider-range ui-widget-header ui-corner-all ui-slider-range-min");
    handles = document.getElementsByClassName("ui-slider-handle ui-state-default ui-corner-all");
    background = document.getElementsByClassName("custom_slider style-scope equalizer-controller ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all");

    console.log(sliders, "\n", handles, "\n", background);

  });
  
  var lastSelected = 0;
  var isThereAnError = false;



  var lastEQMode = "masking";
//  document.getElementById(equalizerListbox).selected = "Currently Applied";

  //PresetNames[] = {"hi", "my", "name", "is", "scott"};
  

  //document.getElementById("custom").appendChild(temp);    make this work

  var iirConstants = [];

  for(loopVar = 0; loopVar < 21; loopVar++) { // watch out! we got a static over here
    iirConstants[loopVar] = 0;
  }
  console.log(iirConstants);

  function showEqualizerSwitchDialog(mode) {
    console.log(mode);
    switch(mode) {
      case "masking": {
        document.getElementById("eqmode").innerHTML = "You are switching the speaker to masking mode<br>In this mode, the speaker will produce equalized white noise and unequalized music.";
        break;
      }
      case "music": {
        document.getElementById("eqmode").innerHTML = "You are switching the speaker to music mode<br>In this mode the speaker will produce equalized music only.";
        break;
      }
      case "paging": {
        document.getElementById("eqmode").innerHTML = "You are switching the speaker to paging mode<br>idk if this is gonna be in here yet or why we need it";
        break;
      }
    }
    document.querySelector("#switchingEQModeDialog").toggle();
  }

  function musicChanged() {
    musicMenu.style.visibility = "visible";
    equalizerMenu.style.visibility = "hidden";
    showEqualizerSwitchDialog("music");

  }

  function equalizerChanged() {
    musicMenu.style.visibility = "hidden";
    equalizerMenu.style.visibility = "visible";
    showEqualizerSwitchDialog("masking");
  }


    Polymer({
      is: 'equalizer-controller',
      
      properties: {
        internalEqualizer: String,

        mode: {
        type:  String,
        value: "masking"
        },

        speakerId: {
          type: Number
        },

        speaker: {
          type: Object
        },

        equalizer: {
          type: String,
          notify: true,
          observer: '_setInternalEqualizer'
        }
      },


      _setInternalEqualizer: function(iirConstantsString) {
        this.internalEqualizer = iirConstantsString;
        console.log("_setInternalEqualizer " + iirConstantsString);
      },
      
      _setEqualizerClicked: function() {

        var checkInt = 0;
        var checkBands = [];
        var equalizerText = "Invalid input at ";

        $(document.getElementsByClassName("level")).each(function(i) {
          if(isNaN(this.value) || this.value == "" || this.value < -40 || this.value > 10) {
            console.log(this.name);
            checkInt++;
            checkBands.push(this.name); // may have to put new string here
          }
        });

        if(checkInt > 0) {
          if(checkBands.length == 1) {
            equalizerText += checkBands[0] + "Hz";
          } else {
            for (var i = 0; i < checkBands.length - 1; i++) {
              equalizerText += checkBands[i] + "Hz, "
            }z
            equalizerText += "and " + checkBands[checkBands.length - 1] + "Hz";
          }
          this.$.equalizerToast.duration = 2000 + (500 * checkBands.length);
          this.$.equalizerToast.text = equalizerText;
          this.$.equalizerToast.show();
        } else {


          this.equalizer = iirConstants.slice(0 + (21 * typeFound), 21 + (22 * typeFound)).join(" ");  // this gets sent to the backend because Go's Fields(String) function works only with whitespaces
          console.log(this.equalizer);
          this.iirConstantsString = iirConstants.slice(0 + (21 * typeFound), 21 + (22 * typeFound)).join(", ");  // this is for the toast message


          this.$.equalizerToast.text = "Equalizer set to " + this.iirConstantsString;
          this.$.equalizerToast.show();
          console.log("_setEqualizerClicked");
          console.log(iirConstants);
          
          for (var i = 0; i < this.speaker.CurrentPreset.length; i++) { 
            this.speaker.CurrentPreset[i] = iirConstants[i];
          }
        }
      },

      _logResponse: function(event, data) {
        console.log("shuddup");
      },
      /*
      decrementVolume: function() {
        this.$.volume2.decrement();
        this.$.volume2._expandKnob();
        if(this.prevTimeout != 0) {
          window.clearTimeout(this.prevTimeout)
        }
        var elem = this;
        var func = this.resetKnob;
        this.prevTimeout = window.setTimeout(function(){
          func(elem);
        }, 500);
      },
      
      incrementVolume: function() {
        this.$.volume2.increment();
        this.$.volume2._expandKnob();
        if(this.prevTimeout != 0) {
          window.clearTimeout(this.prevTimeout)
        }
        var elem = this;
        var func = this.resetKnob;
        this.prevTimeout = window.setTimeout(function(){
          func(elem);
        }, 500);
      },*/

      _acceptPressed: function(event) {


        var name = this.$.popupInput.value.valueOf().replace("\n", "").replace("\t", "");
        var ifvar = 0;
        if(this.speaker.PresetNames.length > 0) {
          for(var i = 0; i < this.speaker.PresetNames.length; i++) {
            if(name.toLowerCase() == this.speaker.PresetNames[i].valueOf().toLowerCase()) {
              console.log("same name dude");
              ifvar++;    // make more checks dummy
            }
          }
        }

        if(ifvar > 0) {
          console.log("we are in here right now");
          this.err = "Invalid name: Name already taken";
          this.$.toasty.text = this.err;
          this.$.toasty.show();
        } else {
          this.$.addPresetAjax.body = {
            "speaker": this.speakerId,
            "name": name,
            "type": getValues(),
            "constants": iirConstants.join(" "),
            // Maybe we should add a currently applied thing in here or something
          };

          console.log(iirConstants.join(" "));

          console.log("addPresetAjax:", addPresetAjax.body);
          this.$.addPresetAjax.generateRequest();

          this.$.dialog.toggle();

          this.$.toasty.text = "Added preset: " + name + " " + iirConstants.join(", ");
          console.log(this.$.toasty.text);

          this.$.toasty.show();

          temp = document.createElement("paper-item");
          temp.setAttribute("value", name);
          temp.setAttribute("id", name);
          // temp.setAttribute("speakerId", controller.speaker.speakerId); try doing some optimization stuff with the speakerId
          temp.innerHTML = name;
          Polymer.dom(this.$.equalizerListbox).appendChild(temp);

          var length = this.speaker.Equalizer.length;
          console.log(length);

          console.log(iirConstants);

          var iirConstantsCopy = iirConstants.slice();

          console.log("iirConstantsCopy: ", iirConstantsCopy);
          this.speaker.Equalizer.push(iirConstants.slice());    // change this to iirConstantsCopy if it breaks
          //}

          this.speaker.PresetNames[this.speaker.PresetNames.length] = name;

          console.log(this.speaker.Equalizer);

          this.$.equalizerListbox.selected = name;
          //this.$.toasty.text = "";
          this.$.popupInput.value = "";
        }
      },

      _cancelPressed: function(event) {
        // make something that will capture the last thing clicked and keep track of that and change it to that when they click cancel

        this.$.equalizerListbox.selected = -1;

        console.log(lastSelected);

      },

      _switchPressed: function(event) {
        // make a call to change the equalizer constants and turn on music mode

        this.$.changeEQModeAjax.body = {
          "speaker":  this.speakerId,
          "mode":     getValues(),
        };

        this.$.changeEQModeAjax.generateRequest();

        this.$.switchingEQModeDialog.toggle();
        lastEQMode = this.$.equalizerSelector.selected;
        console.log(lastEQMode);
      },

      _cancelSwitchPressed: function(event) {
        //musicMenu.style.visibility = "hidden";
        //equalizerMenu.style.visibility = "visible";

        switch(lastEQMode) {
          case "masking":
            musicMenu.style.visibility = "hidden";
            equalizerMenu.style.visibility = "visible";
            break;

          case "music":
            musicMenu.style.visibility = "visible";
            equalizerMenu.style.visibility = "hidden";
            break;

          default:
            console.log("fuck me");
        }
        this.$.equalizerSelector.selected = lastEQMode;
        //this.$.switchingToMusicDialog.toggle();

      },

      listeners: {
        'equalizerListbox.iron-select': '_presetSelectionChanged'
      },
      
      // this will need some typefound modifications
      _presetSelectionChanged: function(event) {
        console.log(this.speakerId);    // This says the speakerId is undefined

        //var menu = document.getElementById('equalizerMenu');
        console.log(this.speaker);

        //if(this.$.menu.selected + 1)

        //menu.averaging = this.$.menu.selected + 1;

        var selected = this.$.equalizerListbox.selected.valueOf().toLowerCase().replace("\n", "");   // do this for all whitespace character

        //var sliders = document.getElementsByClassName("ui-slider-range ui-widget-header ui-corner-all ui-slider-range-min");
        //var handles = document.getElementsByClassName("ui-slider-handle ui-state-default ui-corner-all");

        if(selected == "currently applied") {
          this.$.toasty.text = "Currently applied constants loaded! " + iirConstants.join(", ");
          this.$.toasty.show();

          lastSelected = this.$.equalizerListbox.selected;

          for (var i = 0; i < this.speaker.CurrentPreset.length; i++) { 
            sliders[i].style.height = (this.speaker.CurrentPreset[i] + 40) * 2 + "%";    // why does this have to be lower case
            console.log(this);
            handles[i].style.bottom = (this.speaker.CurrentPreset[i] + 40) * 2 + "%";
            $("#text" + (parseInt(i) + 1)).val(this.speaker.CurrentPreset[i]);
            iirConstants[i] = this.speaker.CurrentPreset[i];       
          }
        } else if(selected == "add new preset") {
            var addPresetAjax = document.getElementById("addPresetAjax");
            console.log(addPresetAjax);
            this.$.dialog.toggle();
        } else if(this.speaker.PresetNames.length > 0) {
            lastSelected = this.$.equalizerListbox.selected;
            var associationLink = -1;
            for (k in this.speaker.PresetNames) {
              if(selected == this.speaker.PresetNames[k].valueOf().toLowerCase()) {
                this.$.toasty.text = this.$.equalizerListbox.selected + " preset loaded! " + iirConstants.join(", ");
                this.$.toasty.show();
                console.log("Speaker " + this.speakerId + " selected preset: " + selected);
                // show a toast here with the preset applied message
                associationLink = k;   // this will either need to be bounded by the the restriction that two names cannot be the same or we need to check
                console.log("associationLink", associationLink);
                break;    // this is for efficiency reasons, better to keep it this way if it works
              }
            }
            if(associationLink != -1) {
              console.log(this.speaker.Equalizer.length);
              for (var j = 0; j < this.speaker.Equalizer[0].length; j++) {   // add associationLink back if this fucks up
                sliders[j].style.height = (this.speaker.Equalizer[associationLink][j] + 40) * 2 + "%";    // why does this have to be lower case
                handles[j].style.bottom = (this.speaker.Equalizer[associationLink][j] + 40) * 2 + "%";
                $("#text" + (parseInt(j) + 1)).val(this.speaker.Equalizer[associationLink][j]);
                iirConstants[j] = this.speaker.Equalizer[associationLink][j];
              }
            }
          }

          // Need to put a toast thing here like we have on the volume selector page
         /*
          var updatedAttributes = ["averaging"];
          var attributeValues = {
            "averaging": this.$.menu.selected + 1
          };
          this.$.selectModeAjax.body = {              // might use this to put in the database
            "updatedAttributes": updatedAttributes, 
            "attributeValues": attributeValues,                        
            "speaker": this.speakerId     // You can see that this is getting zero in the terminal from the print in  speakerHandlers.go. This is because the value for this.speakerId is undefined for some reason. When I hardcoded 107 it worked fine, which is expected. Just not sure why this is getting undefined....
          };
          this.$.selectModeAjax.generateRequest();
      */},
      
      resetKnob: function(elem) {
        elem.prevTimeout = 0;
        elem.$.volume2._resetKnob();
      },

      showToast: function() {
        console.log("gi");
      },

      ready: function() {
        this.internalEqualizer = this.iirConstantsString;   // does this need to be equalizer?
        equalizerToast = this.$.equalizerToast;
        equalizerMode = this.$.equalizerSelector;
      }
    });

    function showToast() {
      console.log("gi");
    }

    function inputChanged() {
        var error = false;
      $(document.getElementsByClassName("level")).each(function(i) {
        console.log(this.value);
        if(isNaN(this.value) || this.value == "" || this.value < -40 || this.value > 10) {
          error = true;
          //this.value = "what to put here";
          //sliders[i].style.height = null;
          //handles[i].style.bottom = null;
          sliders[i].style.background = "#F33F31";
          handles[i].style.background = "#F33F31";
          background[i].style.background = "rgba(243, 63, 49, .2)";
          
        } else {        
          iirConstants[i] = parseInt(this.value);
          sliders[i].style.background = "#3f51b5";
          handles[i].style.background = "#3f51b5";
          background[i].style.background = "rgba(63, 81, 181, .2)";
          sliders[i].style.height = (iirConstants[i] + 40) * 2 + "%";
          handles[i].style.bottom = (iirConstants[i] + 40) * 2 + "%";
        }
      });
        console.log(error);

        if(error == false) {      // see if we can simplify this
          isThereAnError = false;
        } else {
          isThereAnError = true;
        }

        console.log(isThereAnError);
    }

    
    /*$(window).load(function() {
      document.querySelector("#card-content").style.height = $(".custom").height() + "px";
      console.log(document.querySelector("#card-content".height), $("#sliderequalizer"));
      console.log("loading thing");
    });*/ 
    

    /*function clickThis() {

      document.querySelector("#card-content").style.height = $("#custom_container").height() + "px";
      console.log(document.querySelector("#card-content".height), $("#custom_container").height());
      console.log("clickThis");
    }*/

// there was some script endings and shit here, putem back if shit fucks up

  var MIN_WIDTH_SUPPORTED = 0;
  var MIN_HEIGHT_SUPPORTED = 0;
  //console.log(navigator);

  if($(window).width() > MIN_WIDTH_SUPPORTED || $(window).height() > MIN_HEIGHT_SUPPORTED) {
    /*$(function() {
      $( ".custom > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: 0,
        max: 20,
        value: 10,
        slide: function( event, ui) {
          var inputs = document.getElementsByClassName("custom");
          var handles = document.getElementsByClassName("ui-slider-handle ui-state-default ui-corner-all");
          console.log($(handles[0]).offsetParent().offsetParent());
          var split = handles[0].className;
          console.log($(inputs));

          $( "#text1" ).val( $(inputs[0]).find(".ui-slider-range-min").prop("clientHeight")/10);
          $( "#text2" ).val( $(inputs[1]).find(".ui-slider-range-min").prop("clientHeight")/10);
          $( "#text3" ).val( $(inputs[2]).find(".ui-slider-range-min").prop("clientHeight")/10);
          $( "#text4" ).val( $(inputs[3]).find(".ui-slider-range-min").prop("clientHeight")/10);
          $( "#text5" ).val( $(inputs[4]).find(".ui-slider-range-min").prop("clientHeight")/10);
          $( "#text6" ).val( $(inputs[5]).find(".ui-slider-range-min").prop("clientHeight")/10);
          $( "#text7" ).val( $(inputs[6]).find(".ui-slider-range-min").prop("clientHeight")/10);
          $( "#text8" ).val( $(inputs[7]).find(".ui-slider-range-min").prop("clientHeight")/10);
          $( "#text9" ).val( $(inputs[8]).find(".ui-slider-range-min").prop("clientHeight")/10);
          $( "#text10" ).val( $(inputs[9]).find(".ui-slider-range-min").prop("clientHeight")/10);
          $( "#text11" ).val( $(inputs[10]).find(".ui-slider-range-min").prop("clientHeight")/10);
          $( "#text12" ).val( $(inputs[11]).find(".ui-slider-range-min").prop("clientHeight")/10);

          //console.log(document.getElementById("text3").value);
          //console.log(ui);
          //console.log($(this).offsetParent());
          //console.log($(this).offsetParent().attr('className'));
          //console.log($('#selectable .ui-selected').attr('id'));
        }
      });*/

// try this shit out mayne: http://jqueryrain.com/?MnbPPsmf

    
    // make the equalizer get the constants out to the database here

$(function() {
    $(document.getElementsByClassName("custom_slider")).each(function(i) {

      //console.log(this);

      $(this).slider({
        orientation: "vertical",
        range: "min",
        step: .01,
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          isThereAnError = false;
          sliders[i + (typeFound * 21)].style.background = "#3f51b5";
          handles[i + (typeFound * 21)].style.background = "#3f51b5";
          background[i + (typeFound * 21)].style.background = "rgba(63, 81, 181, .2)";
          $("#text" + (i + (typeFound * 21) + 1)).val(ui.value);
          iirConstants[i] = ui.value;
        }
      });
      $("#text" + (i + 1)).val($(".custom > .custom_slider").slider("value"));
    });
  });

  /*$(function() {
    $(document.getElementById("custom_container_masking").getElementsByClassName("custom_slider")).each(function(i) {

      //console.log(this);

      $(this).slider({
        orientation: "vertical",
        range: "min",
        step: .01,
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          isThereAnError = false;
          sliders[i].style.background = "#3f51b5";
          handles[i].style.background = "#3f51b5";
          background[i].style.background = "rgba(63, 81, 181, .2)";
          $("#text" + (i + 1)).val(ui.value);
          iirConstants[i] = ui.value;
        }
      });
      $("#text" + (i + 1)).val($(".custom > .custom_slider").slider("value"));
    });

  });

  $(function() {
    $(document.getElementById("custom_container_music").getElementsByClassName("custom_slider")).each(function(i) {

      //console.log(this);

      $(this).slider({
        orientation: "vertical",
        range: "min",
        step: .01,
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          isThereAnError = false;
          sliders[i + 21].style.background = "#3f51b5";
          handles[i + 21].style.background = "#3f51b5";
          background[i + 21].style.background = "rgba(63, 81, 181, .2)";
          $("#text" + (i + 22)).val(ui.value);
          iirConstants[i] = ui.value;
        }
      });
      $("#text" + (i + 22)).val($(".custom > .custom_slider").slider("value"));
    });

  });

  $(function() {
    $(document.getElementById("custom_container_paging").getElementsByClassName("custom_slider")).each(function(i) {

      //console.log(this);

      $(this).slider({
        orientation: "vertical",
        range: "min",
        step: .01,
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          isThereAnError = false;
          sliders[i + 42].style.background = "#3f51b5";
          handles[i + 42].style.background = "#3f51b5";
          background[i + 42].style.background = "rgba(63, 81, 181, .2)";
          $("#text" + (i + 43)).val(ui.value);
          iirConstants[i] = ui.value;
        }
      });
      $("#text" + (i + 43)).val($(".custom > .custom_slider").slider("value"));
    });

  });*/
    
/*
    $(function() {
      $( ".custom.one > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        //step: .5,
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          sliders[0].style.background = "#3f51b5";
          handles[0].style.background = "#3f51b5";      // try to revamp this to make this better
          background[0].style.background = "rgba(63, 81, 181, .2)";
          $( "#text1" ).val( ui.value);
          iirConstants[0] = ui.value;
          //console.log(iirConstants[0] + " - | - " + ui.value);    // remove all of these when finished with them
        }
      });
      $( ".custom.two > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text2" ).val( ui.value);
          console.log(ui.value);
          iirConstants[1] = ui.value;
          //console.log(iirConstants[1] + " - | - " + ui.value);
        }
      });
      $( ".custom.three > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text3" ).val( ui.value);
          iirConstants[2] = ui.value;
          //console.log(iirConstants[2] + " - | - " + ui.value);
        }
      });
      $( ".custom.four > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text4" ).val( ui.value);
          iirConstants[3] = ui.value;
          //console.log(iirConstants[3] + " - | - " + ui.value);
        }
      });
      $( ".custom.five > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text5" ).val( ui.value);
          iirConstants[4] = ui.value;
          //console.log(iirConstants[4] + " - | - " + ui.value);
        }
      });
      $( ".custom.six > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text6" ).val( ui.value);
          iirConstants[5] = ui.value;
          //console.log(iirConstants[5] + " - | - " + ui.value);
        }
      });
      $( ".custom.seven > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text7" ).val( ui.value);
          iirConstants[6] = ui.value;
          //console.log(iirConstants[6] + " - | - " + ui.value);
        }
      });
      $( ".custom.eight > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text8" ).val( ui.value);
          iirConstants[7] = ui.value;
          //console.log(iirConstants[7] + " - | - " + ui.value);
        }
      });
      $( ".custom.nine > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text9" ).val( ui.value);
          iirConstants[8] = ui.value;
          //console.log(iirConstants[8] + " - | - " + ui.value);
        }
      });
      $( ".custom.ten > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text10" ).val( ui.value);
          iirConstants[9] = ui.value;
          //console.log(iirConstants[9] + " - | - " + ui.value);
        }
      });
      $( ".custom.eleven > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text11" ).val( ui.value);
          iirConstants[10] = ui.value;
          //console.log(iirConstants[10] + " - | - " + ui.value);
        }
      });
      $( ".custom.twelve > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text12" ).val( ui.value);
          iirConstants[11] = ui.value;
          //console.log(iirConstants[11] + " - | - " + ui.value);
        }
      });
      $( ".custom.thirteen > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text13" ).val( ui.value);
          iirConstants[12] = ui.value;
          //console.log(iirConstants[12] + " - | - " + ui.value);
        }
      });
      $( ".custom.fourteen > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text14" ).val( ui.value);
          iirConstants[13] = ui.value;
          //console.log(iirConstants[13] + " - | - " + ui.value);
        }
      });
      $( ".custom.fifteen > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text15" ).val( ui.value);
          iirConstants[14] = ui.value;
          //console.log(iirConstants[14] + " - | - " + ui.value);
        }
      });
      $( ".custom.sixteen > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text16" ).val( ui.value);
          iirConstants[15] = ui.value;
          //console.log(iirConstants[15] + " - | - " + ui.value);
        }
      });
      $( ".custom.seventeen > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text17" ).val( ui.value);
          iirConstants[16] = ui.value;
          //console.log(iirConstants[16] + " - | - " + ui.value);
        }
      });
      $( ".custom.eighteen > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text18" ).val( ui.value);
          iirConstants[17] = ui.value;
          //console.log(iirConstants[17] + " - | - " + ui.value);
        }
      });
      $( ".custom.nineteen > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text19" ).val( ui.value);
          iirConstants[18] = ui.value;
          //console.log(iirConstants[18] + " - | - " + ui.value);
        }
      });
      $( ".custom.twenty > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text20" ).val( ui.value);
          iirConstants[19] = ui.value;
          //console.log(iirConstants[19] + " - | - " + ui.value);
        }
      });
      $( ".custom.twentyone > .custom_slider" ).slider({
        orientation: "vertical",
        range: "min",
        min: -40,
        max: 10,
        value: 0,
        slide: function( event, ui) {
          $( "#text21" ).val( ui.value);
          iirConstants[20] = ui.value;
          //console.log(iirConstants[20] + " - | - " + ui.value);
        }
      });*/

      /*$( "#text1" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text2" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text3" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text4" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text5" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text6" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text7" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text8" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text9" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text10" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text11" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text12" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text13" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text14" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text15" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text16" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text17" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text18" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text19" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text20" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );
      $( "#text21" ).val( $( ".custom > .custom_slider" ).slider( "value" ) );*/
    //});

  } else {
      console.log("there is not enough space to display the equalizer");

      //window.onload = function(){
        // Use this for loading a different thing when the window loads and the viewport is too small
      //};      
    }
  $(window).resize(function() {
    if($(window).width() < MIN_WIDTH_SUPPORTED || $(window).height() < MIN_HEIGHT_SUPPORTED) {
      console.log($(window).width());

      console.log(document.getElementById("eighty").offsetWidth);
      /*var custom_container = document.getElementById("custom_container");
      //custom_container.style.visibility = "hidden";
      var customs = document.getElementsByClassName("custom");
      console.log(customs);
      for (i in customs) {
        //document.getElementById("one").style.width = "30px";
        //document.getElementById("custom_container").style.width = "350px";
      }*/
    } else {
      var custom_container = document.getElementById("custom_container");
      //custom_container.style.visibility = "visible";
    }
  });

</script>
</dom-module>